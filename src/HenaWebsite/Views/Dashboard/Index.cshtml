@using Hena;
@using Hena.Shared.Data;
@using Hena.Security.Claims;

@{
	Layout = "_LayoutDashboard";
	ViewData["page-scripts"] = new string[] { "hena/js/pages/dashboard/index.js" };
	ViewData["page-id"] = "page-dashboard";

	DBKey UserId = Context.User.FindFirst(HenaClaimTypes.UserId).Value;

	CampaignDataContainer campaigns = new CampaignDataContainer();
	await campaigns.FromDBByUserIdAsync(UserId);

}

<!--campaigns begin-->
<div class="row">
	<section class="panel">
		<header class="panel-heading">
			<h1>API TEST PAGE</h1>
		</header>
	</section>
	<section class="panel">
		<header class="panel-heading">
			<h3>Campaigns</h3>
		</header>
		<div class="panel-body">

			<div class="col-lg-12">
				<section class="panel p-t-20 p-b-20">
					<div class="panel-body">
						<form class="form-horizontal tasi-form" id="form-campaign" action="#">

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Campaign Id</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="campaignId" placeholder="" readonly>
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Campaign Name</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="name" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Campaign Type</label>
								<div class="col-sm-10">
									<select class="form-control" name="campaignType">
										@{
											List<string> campaignTypes = new List<string>(Enum.GetNames(typeof(CampaignTypes)));
											campaignTypes.Remove(CampaignTypes.None.ToString());
											foreach (var it in campaignTypes)
											{
												<option>@it</option>
											}
										}
									</select>
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Cost</label>
								<div class="col-sm-10">
									<input type="number" class="form-control" name="cost" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Target Value</label>
								<div class="col-sm-10">
									<input type="number" class="form-control" name="targetValue" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Begin Time</label>
								<div class="col-sm-10">
									<input type="datetime-local" class="form-control" name="beginTime" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">End Time</label>
								<div class="col-sm-10">
									<input type="datetime-local" class="form-control" name="endTime" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-12">
								<button id='btn-campaign-create' class="btn btn-primary" type="button">Create</button>
								<button id='btn-campaign-modify' class="btn btn-primary" type="button">Modify</button>
								<button id='btn-campaign-delete' class="btn btn-primary" type="button">Delete</button>

								<button id='btn-campaign-form-reset' class="btn btn-primary" type="button">Form Reset</button>
							</div>

						</form>
					</div>
				</section>
			</div>


			<section class="panel">
				<div class="panel-body">
					<table class="table table-striped table-advance table-hover" id="table-campaigns">
						<thead>
							<tr>
								<th></th>
								<th>CampaignId</th>
								<th>CampaignName</th>
								<th>CampaignType</th>
								<th>TargetValue</th>
								<th>Cost</th>
								<th>BeginTime</th>
								<th>EndTime</th>
								<th>IsPause</th>
							</tr>
						</thead>
						<tbody>
							@*@foreach (var it in campaigns.Items)
						{
							<tr data-campaign-id="@it.CampaignId.ToString()">
								<td><input type="radio" name="campaigns" data-campaign-id="@it.CampaignId.ToString()" /></td>
								<td>@it.CampaignId.ToString()</td>
								<td>@it.Name</td>
								<td>@it.CampaignType</td>
								<td>@it.TargetValue</td>
								<td>@it.Cost</td>
								<td>@it.BeginTime.ToLocalTime()</td>
								<td>@it.EndTime.ToLocalTime()</td>
								<td>@it.IsPause</td>
							</tr>
						}*@

						</tbody>
					</table>
				</div>
			</section>

			

		</div>
	</section>
</div>
<!--campaigns end-->
<!--ad-design begin-->
<div class="row">
	<section class="panel">
		<header class="panel-heading">
			<h3>Ad Designs</h3>
		</header>
		<div class="panel-body">
			<div class="col-lg-12">
				<section class="panel">
					<div class="panel-body">
						<table class="table table-striped table-advance table-hover" id="table-ad-designs">
							<thead>
								<tr>
									<th></th>
									<th>AdDesignId</th>
									<th>Name</th>
									<th>AdDesignType</th>
									<th>ResourceName</th>
									<th>DestinationUrl</th>
									<th>IsPause</th>
									<th>CreateTime</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>
					</div>
				</section>
				<section class="panel p-t-20 p-b-20">
					<div class="panel-body">
						<form class="form-horizontal tasi-form" id="form-ad-design" action="#">

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Campaign Id</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="campaignId" placeholder="" readonly>
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Ad Design Id</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="adDesignId" placeholder="" readonly>
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Ad Design Name</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="name" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Ad Design Type</label>
								<div class="col-sm-10">
									<select class="form-control" name="adDesignType">
										@{
											List<string> adDesignTypes = new List<string>(Enum.GetNames(typeof(AdDesignTypes)));
											adDesignTypes.Remove(AdDesignTypes.None.ToString());
											foreach (var it in adDesignTypes)
											{
												<option>@it</option>
											}
										}
									</select>
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Resource Name</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="resourceName" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-6">
								<label class="col-sm-2 control-label">Destination Url</label>
								<div class="col-sm-10">
									<input type="text" class="form-control" name="destinationUrl" placeholder="">
								</div>
							</div>

							<div class="form-group col-sm-12">
								<button id='btn-ad-design-create' class="btn btn-primary" type="button">Create</button>
								<button id='btn-ad-design-modify' class="btn btn-primary" type="button">Modify</button>
								<button id='btn-ad-design-delete' class="btn btn-primary" type="button">Delete</button>

								<button id='btn-ad-design-form-reset' class="btn btn-primary" type="button">Form Reset</button>
							</div>

						</form>
					</div>
				</section>
			</div>
			
		</div>
	</section>
</div>
<!--ad-design end-->
